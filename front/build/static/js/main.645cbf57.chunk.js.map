{"version":3,"sources":["components/Sidebar/Sidebar.tsx","theme.ts","components/Chart/Chart.tsx","components/Page/Page.tsx","axios.ts","components/Report/Report.tsx","components/DataGrid/Row.tsx","components/DataGrid/DataGrid.tsx","components/Upload/Upload.tsx","components/Settings/Settings.tsx","components/Header/Header.tsx","App.tsx","index.tsx"],"names":["useStyles","makeStyles","theme","root","position","left","top","minHeight","width","padding","paddingTop","link","color","palette","text","secondary","textDecoration","fontWeight","textTransform","textAlign","cursor","margin","primary","textShadow","active","pages","to","name","Sidebar","styles","location","useLocation","Grid","container","direction","justifyContent","alignItems","className","map","page","pathname","match","cn","backgroundColor","createMuiTheme","light","main","dark","contrastText","disabled","hint","overrides","MuiTextField","MuiContainer","display","shape","borderRadius","props","MuiButton","variant","size","card","border","overflow","fontSize","height","backdropFilter","header","colors","green","orange","red","brown","mockData","labels","datasets","label","borderColor","data","cubicInterpolationMode","Chart","console","log","title","year","options","responsive","canvas","forEach","set","i","gradient","getContext","createLinearGradient","addColorStop","setGradientColor","borderWidth","flexDirection","Page","children","Container","api","axios","create","baseURL","withCredentials","validateStatus","status","months","getDatasets","Object","entries","entry","formattedData","length","push","formatDataset","Report","useState","setData","enqueueSnackbar","useSnackbar","search","useEffect","a","params","res","dataset","getChartData","Button","onClick","wb","XLSX","utils","book_new","ws_data","aoa_to_sheet","writeFile","table","minWidth","button","cell","borderBottom","row","Row","updateRows","file_forecast","file_fact","inputs","setInputs","history","useHistory","uploadFiles","file","formData","FormData","append","post","headers","error","Error","split","TableRow","TableCell","component","forecast","onChange","e","target","currentTarget","dir","control","files","prevState","endIcon","type","style","fact","event","marginBottom","hover","paddingBottom","zIndex","transition","listItem","dialog","select","selectEmpty","marginTop","spacing","formControl","SimpleDialog","onClose","rows","open","setYear","handleClose","Dialog","aria-labelledby","FormControl","Select","value","textContent","displayEmpty","inputProps","MenuItem","Array","fill","_","filter","el","find","DataGrid","setRows","setOpen","addRow","index","findIndex","slice","concat","sort","b","getTables","TableContainer","Table","aria-label","TableHead","TableBody","Upload","Settings","img","marginRight","logo","Header","src","alt","grid","background","maxWidth","breakpoints","down","App","maxSnack","classes","containerRoot","path","from","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.645cbf57.chunk.js","sourcesContent":["import { Grid, makeStyles } from \"@material-ui/core\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport cn from \"classnames\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: \"fixed\",\n    left: 0,\n    top: 60,\n    minHeight: \"100vh\",\n    width: 165,\n    padding: \"1rem\",\n    paddingTop: \"0.5rem\",\n  },\n  link: {\n    color: theme.palette.text.secondary,\n    textDecoration: \"none\",\n    fontWeight: 700,\n    textTransform: \"uppercase\",\n    textAlign: \"start\",\n    cursor: \"pointer\",\n    margin: \"1rem\",\n    \"&:hover\": {\n      color: theme.palette.text.primary,\n      textShadow: \"0 0 3px #fff\",\n    },\n  },\n  active: {\n    color: theme.palette.text.primary,\n    textShadow: \"0 0 3px #fff\",\n  },\n}));\n\nconst pages = [\n  {\n    to: \"upload\",\n    name: \"загрузить данные\",\n  },\n  {\n    to: \"report\",\n    name: \"отчёт\",\n  },\n  {\n    to: \"settings\",\n    name: \"настройки\",\n  },\n];\n\nfunction Sidebar() {\n  const styles = useStyles();\n  const location = useLocation();\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      justifyContent=\"flex-start\"\n      alignItems=\"flex-start\"\n      className={styles.root}\n    >\n      {pages.map((page) => (\n        <Link\n          className={\n            location.pathname.match(page.to)\n              ? cn(styles.link, styles.active)\n              : styles.link\n          }\n          key={page.name}\n          to={page.to}\n        >\n          {page.name}\n        </Link>\n      ))}\n    </Grid>\n  );\n}\n\nexport default Sidebar;\n","import { unstable_createMuiStrictModeTheme as createMuiTheme } from \"@material-ui/core/styles\";\n\nexport const backgroundColor = {\n  bgLight: \"#2d3268\",\n  bgDark: \"#1a1f4b\",\n  foreground: \"#fdfdfd\",\n};\nexport const primaryColor = {\n  light: \"#DAF7A6\",\n  main: \"#BFD891\",\n  dark: \"#A4B97D\",\n  contrastText: \"#000\",\n};\nexport const secondaryColor = {\n  light: \"#FF5733\",\n  main: \"#BF4126\",\n  dark: \"#802B1A\",\n  contrastText: \"#fff\",\n};\n\nexport const text = {\n  primary: \"#fff\",\n  secondary: \"#dadada\",\n  disabled: \"#444\",\n  hint: \"#dadada\",\n};\n\nexport const borderRadius = 30;\n\nexport const theme = createMuiTheme({\n  palette: {\n    primary: primaryColor,\n    secondary: secondaryColor,\n    text: text,\n  },\n  overrides: {\n    MuiTextField: {\n      root: {\n        width: \"100%\",\n      },\n    },\n    MuiContainer: {\n      root: {\n        display: \"flex\",\n        justifyContent: \"center\",\n      },\n    },\n  },\n  shape: {\n    borderRadius: borderRadius,\n  },\n  props: {\n    MuiButton: {\n      variant: \"outlined\",\n      color: \"primary\",\n      size: \"large\",\n    },\n    MuiTextField: {\n      variant: \"outlined\",\n    },\n  },\n});\n","import { makeStyles } from \"@material-ui/core\";\nimport { ChartData } from \"chart.js\";\nimport { Line } from \"react-chartjs-2\";\n// import { primaryColor, secondaryColor } from \"../../theme\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  card: {\n    border: \"1px solid #ffffff0f\",\n    borderRadius: 15,\n    // box-shadow: \"0 0 1rem 0 rgba(0, 0, 0, 0.2)\",\n    overflow: \"hidden\",\n    position: \"relative\",\n    fontSize: \"2rem\",\n    padding: 30,\n    margin: 30,\n    width: 700,\n    height: 400,\n    backdropFilter: \"blur(10px) saturate(120%)\",\n  },\n  header: {\n    fontSize: \"1rem\",\n  },\n}));\n\nexport interface ChartProps {\n  data?: any;\n  year?: string;\n  title?: string;\n}\n\nconst colors = {\n  green: \"#DAF7A6\",\n  orange: \"#FFC300\",\n  red: \"#FF5733\",\n  brown: \"#C70039\",\n};\n\nconst mockData: ChartData = {\n  labels: [1, 2, 3, 4],\n  datasets: [\n    {\n      label: \"Income\",\n      backgroundColor: colors.orange,\n      borderColor: colors.orange,\n      data: [2, 8, 5, 4],\n      cubicInterpolationMode: \"monotone\",\n    },\n    {\n      label: \"Revenue\",\n      backgroundColor: colors.green,\n      borderColor: colors.green,\n      data: [4, 7, 2, 3],\n      cubicInterpolationMode: \"monotone\",\n    },\n  ],\n};\n\nfunction Chart(props: ChartProps) {\n  const styles = useStyles();\n  console.log(\"[Chart] props:\", props);\n\n  const setGradientColor = (canvas: HTMLCanvasElement, color: string) => {\n    const gradient = canvas\n      .getContext(\"2d\")\n      ?.createLinearGradient(0, 0, 400, 0);\n    gradient?.addColorStop(0, color);\n    gradient?.addColorStop(1, \"#ffffff\");\n    return gradient;\n  };\n  const getChartData = (canvas: HTMLCanvasElement) => {\n    const data = props.data || mockData;\n    console.log(\"[getChartData] data:\", data);\n    if (data.datasets) {\n      data.datasets.forEach((set: any, i: number) => {\n        set.backgroundColor = setGradientColor(\n          canvas,\n          colors[i == 0 ? \"green\" : \"orange\"]\n        );\n        set.borderColor = colors[i == 0 ? \"green\" : \"orange\"];\n        set.borderWidth = 2;\n      });\n    }\n    return data;\n  };\n  return (\n    <div className={styles.root}>\n      <h2 className={styles.header}>\n        {props.title}\n        {props.year && ` for ${props.year}`}\n      </h2>\n      <div className={styles.card}>\n        <Line\n          options={{\n            responsive: true,\n          }}\n          data={getChartData}\n          className=\"canvas\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Chart;\n","import { Container, makeStyles } from \"@material-ui/core\";\n\nexport interface PageProps {\n  children: JSX.Element | JSX.Element[];\n}\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    padding: \"0 50px 0 120px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n  },\n}));\n\nfunction Page({ children }: PageProps) {\n  const styles = useStyles();\n  return <Container className={styles.container}>{children}</Container>;\n}\n\nexport default Page;\n","import axios from \"axios\";\n\nexport const api = axios.create({\n  baseURL: `/api`,\n  withCredentials: true,\n  validateStatus: (status) => status >= 200 && status < 500,\n});\n","import { Button, makeStyles } from \"@material-ui/core\";\nimport Chart, { ChartProps } from \"../Chart/Chart\";\nimport Page from \"../Page/Page\";\nimport { useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { api } from \"../../axios\";\nimport { useSnackbar } from \"notistack\";\nimport { ChartData } from \"chart.js\";\n\nimport XLSX from \"xlsx\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n}));\n\nconst months = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n\nconst formatDataset = (data: any) => {\n  const labels = [];\n  const formattedData = [];\n  console.log(data);\n  for (let year in data) {\n    for (let i = 0; i < months.length; i++) {\n      labels.push(`${year}-${months[i]}`);\n      formattedData.push(data[year][i]);\n    }\n  }\n  return { labels, data: formattedData };\n};\n\nconst getDatasets = (data: any): ChartData => {\n  console.log(Object.entries(data));\n\n  let labels: string[] = [];\n\n  const datasets = Object.entries(data).map((entry: any) => {\n    const label = entry[0];\n    const formattedData = formatDataset(entry[1]);\n    labels = formattedData.labels;\n\n    return {\n      label,\n      data: formattedData.data,\n      cubicInterpolationMode: \"monotone\",\n    };\n  });\n\n  console.log(datasets);\n\n  return { labels, datasets };\n};\n\nfunction Report() {\n  const styles = useStyles();\n  const location = useLocation();\n  const [data, setData] = useState<ChartData>();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const year = location.search.match(/year=(\\d{4})/)?.[1];\n  console.log(year);\n\n  useEffect(() => {\n    const getChartData = async () => {\n      try {\n        const res = await api(\"/ml/predict\", {\n          params: { year },\n        });\n        console.log(res.data);\n        const dataset = getDatasets(res.data.data);\n        console.log(dataset);\n        setData(dataset);\n      } catch (e) {\n        enqueueSnackbar(\"Ошибка получения предикта\", { variant: \"error\" });\n      }\n    };\n    getChartData();\n  }, []);\n\n  const saveData = () => {\n    const wb = XLSX.utils.book_new();\n\n    const ws_name = \"SheetJS\";\n\n    // /* make worksheet */\n    var ws_data = [data?.labels || [], data?.datasets || []];\n\n    console.log(ws_data);\n    var ws = XLSX.utils.aoa_to_sheet(ws_data);\n\n    // /* Add the worksheet to the workbook */\n    // XLSX.utils.book_append_sheet(wb, ws, ws_name);\n\n    XLSX.writeFile(wb, \"out.xlsb\");\n  };\n\n  return (\n    <Page>\n      <Chart title=\"Income\" year={year} data={data} />\n      <Button onClick={saveData}>Сохранить прогноз</Button>\n    </Page>\n  );\n}\n\nexport default Report;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\nimport { useState } from \"react\";\nimport { api } from \"../../axios\";\nimport { useSnackbar } from \"notistack\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n  button: {\n    fontSize: \"0.7rem\",\n    margin: 10,\n  },\n  cell: {\n    textAlign: \"center\",\n    width: 150,\n    padding: 0,\n    borderBottom: \"none\",\n  },\n  row: {\n    position: \"relative\",\n    borderBottom: \"1px solid #ffffff44\",\n  },\n});\n\ninterface IInputs {\n  file_forecast: string | Blob;\n  file_fact: string | Blob;\n}\n\nexport interface IRow {\n  year: string;\n  forecast: boolean;\n  fact: boolean;\n}\n\nexport interface IRowProps {\n  row: IRow;\n  updateRows: (row: IRow) => void;\n}\n\nfunction Row({ row, updateRows }: IRowProps) {\n  const styles = useStyles();\n  const [inputs, setInputs] = useState<IInputs>({\n    file_forecast: \"\",\n    file_fact: \"\",\n  });\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n\n  const uploadForecastHandler = (e: any) => {\n    if (!e.target) return;\n    const target = e.currentTarget;\n    console.dir(target.control.files);\n    if (!target.control.files || target.control.files.length === 0) return;\n\n    // ожидаем имя файла с прогнозами на следующие 3 года\n    // например, для 2010 года ждем файл \"прогноз 2011-2013\"\n    if (!target.control.files[0].name.match(+row.year + 1))\n      return enqueueSnackbar(\n        \"Неправильное имя файла: \" + target.control.files[0].name,\n        {\n          variant: \"error\",\n        }\n      );\n\n    setInputs((prevState) => ({\n      ...prevState,\n      file_forecast: target.control.files[0],\n    }));\n\n    uploadFiles(target.control.files[0], \"file_forecast\");\n  };\n\n  const uploadFactHandler = (event: any) => {\n    if (!event.target) return;\n    const target = event.currentTarget;\n    console.dir(target.control.files);\n    if (!target.control.files || target.control.files.length === 0) return;\n\n    // ожидаем имя файла с бюджетом на этот год\n    // например, для 2010 года ждем файл \"бюджет 2010\"\n    // также исключим файлы с прогнозами (через дефис)\n    if (\n      !target.control.files[0].name.match(row.year) &&\n      target.control.files[0].name.match(/\\d+\\-\\d+/)\n    ) {\n      return enqueueSnackbar(\n        \"Неправильное имя файла: \" + target.control.files[0].name,\n        {\n          variant: \"error\",\n        }\n      );\n    }\n    setInputs((prevState) => ({\n      ...prevState,\n      file_fact: target.control.files[0],\n    }));\n\n    uploadFiles(target.control.files[0], \"file_fact\");\n  };\n\n  const uploadFiles = async (\n    file: string | Blob,\n    name: \"file_fact\" | \"file_forecast\"\n  ) => {\n    console.log(file, name);\n    if (typeof file === \"string\") return;\n\n    const formData = new FormData();\n    formData.append(\"year\", `${row.year}`);\n    formData.append(name, file);\n\n    try {\n      const res = await api.post(\"/dataloader/data\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      console.log(res);\n      if (res.data.error) throw new Error(res.data.data);\n    } catch (e) {\n      console.error(e);\n      enqueueSnackbar(\"Не удалось загрузить файл\", { variant: \"error\" });\n      return false;\n    } finally {\n      inputs[name] = \"\";\n      updateRows({ ...row, [name.split(\"_\")[1]]: true });\n    }\n  };\n\n  return (\n    <TableRow key={row.year}>\n      <TableCell className={styles.cell}>{row.year}</TableCell>\n      <TableCell className={styles.cell}>\n        <Button\n          className={styles.button}\n          component=\"label\"\n          color={row.forecast ? \"primary\" : \"secondary\"}\n          onChange={uploadForecastHandler}\n          endIcon={row.forecast ? <CheckIcon /> : <ErrorOutlineIcon />}\n        >\n          {row.forecast ? \"Обновить\" : \"Загрузить\"}\n          <input type=\"file\" style={{ display: \"none\" }} />\n        </Button>\n      </TableCell>\n      <TableCell className={styles.cell}>\n        <Button\n          className={styles.button}\n          component=\"label\"\n          color={row.fact ? \"primary\" : \"secondary\"}\n          onChange={uploadFactHandler}\n          endIcon={row.fact ? <CheckIcon /> : <ErrorOutlineIcon />}\n        >\n          {row.fact ? \"Обновить\" : \"Загрузить\"}\n          <input type=\"file\" style={{ display: \"none\" }} />\n        </Button>\n      </TableCell>\n      <TableCell className={styles.cell}>\n        <Button\n          className={styles.button}\n          onClick={() => history.push(`/report?year=${row.year}`)}\n          disabled={!row.forecast || !row.fact}\n        >\n          Получить прогноз\n        </Button>\n      </TableCell>\n    </TableRow>\n  );\n}\n\nexport default Row;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { backgroundColor } from \"../../theme\";\nimport cn from \"classnames\";\nimport React, { useEffect } from \"react\";\nimport { api } from \"../../axios\";\nimport Row, { IRow } from \"./Row\";\nimport { useState } from \"react\";\n\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { FormControl } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    minWidth: 650,\n    paddingTop: 30,\n    marginBottom: 30,\n  },\n  button: {\n    fontSize: \"0.7rem\",\n    margin: 10,\n  },\n  cell: {\n    textAlign: \"center\",\n    width: 150,\n    padding: 0,\n    borderBottom: \"none\",\n  },\n  row: {\n    position: \"relative\",\n    borderBottom: \"1px solid #ffffff44\",\n  },\n  hover: {\n    position: \"relative\",\n    paddingBottom: 6,\n    \"& .p\": {\n      display: \"none\",\n      width: 400,\n      fontSize: \"0.7rem\",\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      border: \"1px solid #fff\",\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: backgroundColor.bgLight,\n      padding: 5,\n      zIndex: 4,\n      transition: \"0.3s\",\n    },\n    \"&:hover .p\": {\n      display: \"block\",\n    },\n  },\n  listItem: {\n    color: \"#000\",\n  },\n  dialog: {\n    padding: 30,\n  },\n  select: {\n    margin: 10,\n    padding: 3,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n    color: \"#000\",\n  },\n  formControl: {\n    padding: 30,\n    minWidth: 300,\n  },\n}));\n\nexport interface SimpleDialogProps {\n  open: boolean;\n  rows: IRow[];\n  onClose: (value: IRow | null) => void;\n}\nfunction SimpleDialog(props: SimpleDialogProps) {\n  const styles = useStyles();\n  const { onClose, rows, open } = props;\n  const [year, setYear] = useState(\"\");\n\n  const handleClose = (event: React.MouseEvent<HTMLButtonElement>) => {\n    console.dir(event);\n    if (year === \"\") return onClose(null);\n    const row: IRow = { year, forecast: false, fact: false };\n    onClose(row);\n    setYear(\"\");\n  };\n\n  const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n    console.dir(event.currentTarget);\n    const value = (event.currentTarget as any).textContent as string;\n    if (!value) return onClose(null);\n    setYear(value);\n  };\n\n  return (\n    <Dialog\n      className={styles.dialog}\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n    >\n      <FormControl className={styles.formControl}>\n        <Select\n          value={year}\n          onChange={handleChange}\n          displayEmpty\n          className={styles.selectEmpty}\n          inputProps={{ \"aria-label\": \"Without label\" }}\n        >\n          <MenuItem style={{ color: \"black\" }} value=\"\" disabled>\n            Выберите год\n          </MenuItem>\n          {new Array(30)\n            .fill(0)\n            .map((_, i) => i + 2010)\n            .filter((el) => !rows.find((row) => +row.year === +el))\n            .map((el) => (\n              <MenuItem value={`${el}`} className={styles.listItem} key={el}>\n                {`${el}`}\n              </MenuItem>\n            ))}\n        </Select>\n      </FormControl>\n\n      {/* <select value={year} onChange={handleChange} className={styles.select}>\n        {new Array(30)\n          .fill(0)\n          .map((_, i) => i + 2010)\n          .filter((el) => !rows.find((row) => +row.year === +el))\n          .map((el) => (\n            <option className={styles.listItem} key={el}>\n              {`${el}`}\n            </option>\n          ))}\n      </select> */}\n      <Button className={styles.button} onClick={handleClose}>\n        Выбрать\n      </Button>\n    </Dialog>\n  );\n}\n\nfunction DataGrid() {\n  const styles = useStyles();\n  const [rows, setRows] = useState<IRow[]>([]);\n  const [open, setOpen] = useState(false);\n\n  const addRow = (value: IRow) => {\n    const index = rows.findIndex((row) => +row.year === +value.year);\n    console.log(index);\n    if (index >= 0) {\n      setRows(\n        rows\n          .slice(0, index)\n          .concat([value])\n          .concat(rows.slice(index + 1))\n      );\n    } else {\n      setRows([...rows, value].sort((a, b) => +a.year - +b.year));\n    }\n  };\n\n  const openModalHandler = () => {\n    !open && setOpen(true);\n  };\n  const handleClose = (value: IRow | null) => {\n    setOpen(false);\n    if (!value) return;\n    addRow(value);\n  };\n\n  const getTables = async () => {\n    try {\n      const res = await api(\"/dataloader/data\");\n      console.log(res.data);\n      if (res.data.error) console.error(res.data);\n      else setRows((res.data.data as IRow[]).sort((a, b) => +a.year - +b.year));\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"[Upload] useEffect\");\n    getTables();\n  }, []);\n\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      justifyContent=\"flex-start\"\n      alignItems=\"center\"\n    >\n      <TableContainer component=\"div\">\n        <Table className={styles.table} size=\"small\" aria-label=\"simple table\">\n          <TableHead>\n            <TableRow className={styles.row}>\n              <TableCell className={cn(styles.hover, styles.cell)}>\n                Бюджетный год<sup>*</sup>\n                <p className=\"p\">\n                  Год, после которого будет рассчитываться прогноз бюджета.\n                  <br />\n                  Для этого года нужны данные СЭР и бюджета.\n                </p>\n              </TableCell>\n              <TableCell className={styles.cell}>Прогноз СЭР</TableCell>\n              <TableCell className={styles.cell}>Бюджет</TableCell>\n              <TableCell className={styles.cell}>Прогноз бюджета</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row) => (\n              <Row row={row} updateRows={addRow} key={row.year} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Button variant=\"text\" onClick={openModalHandler}>\n        Добавить год\n      </Button>\n      <SimpleDialog rows={rows} open={open} onClose={handleClose} />\n    </Grid>\n  );\n}\n\nexport default DataGrid;\n","import Page from \"../Page/Page\";\nimport DataGrid from \"../DataGrid/DataGrid\";\n\nfunction Upload() {\n  return (\n    <Page>\n      <DataGrid />\n    </Page>\n  );\n}\n\nexport default Upload;\n","import { makeStyles } from \"@material-ui/core\";\nimport DataGrid from \"../DataGrid/DataGrid\";\nimport Page from \"../Page/Page\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n}));\n\nfunction Settings() {\n  const styles = useStyles();\n  return (\n    <Page>\n      <DataGrid />\n    </Page>\n  );\n}\n\nexport default Settings;\n","import { Grid, makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100vw\",\n    height: 60,\n    padding: \"1rem\",\n  },\n  img: {\n    height: \"100%\",\n    marginRight: 10,\n  },\n  logo: {\n    height: \"100%\",\n    width: 200,\n    alignItems: \"center\",\n  },\n}));\n\nfunction Header() {\n  const styles = useStyles();\n  return (\n    <Grid container justifyContent=\"space-between\" className={styles.root}>\n      <Grid container className={styles.logo}>\n        <img\n          className={styles.img}\n          src={process.env.PUBLIC_URL + \"logo512.png\"}\n          alt=\"logo\"\n        />\n        Rolling Drones\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default Header;\n","import { Grid, makeStyles } from \"@material-ui/core\";\nimport Sidebar from \"./components/Sidebar/Sidebar\";\nimport { backgroundColor } from \"./theme\";\nimport Report from \"./components/Report/Report\";\nimport Upload from \"./components/Upload/Upload\";\nimport Settings from \"./components/Settings/Settings\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport Header from \"./components/Header/Header\";\nimport { SnackbarProvider } from \"notistack\";\n\nconst useStyles = makeStyles((theme) => ({\n  grid: {\n    position: \"relative\",\n    minWidth: 900,\n    height: \"100vh\",\n    padding: \"1rem\",\n    background: `linear-gradient(125deg, ${backgroundColor.bgLight}, ${backgroundColor.bgDark})`,\n    textAlign: \"center\",\n    color: theme.palette.text.primary,\n  },\n  root: {\n    maxWidth: \"100%\",\n    minWidth: 500,\n    margin: 0,\n    [theme.breakpoints.down(\"xs\")]: {\n      padding: 0,\n    },\n  },\n}));\n\nfunction App() {\n  const styles = useStyles();\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      alignItems=\"flex-start\"\n      className={styles.grid}\n    >\n      <Header />\n      <Router>\n        <SnackbarProvider maxSnack={3} classes={{ containerRoot: styles.root }}>\n          <Sidebar />\n          <Switch>\n            <Route path=\"/upload\">\n              <Upload />\n            </Route>\n            <Route path=\"/report\">\n              <Report />\n            </Route>\n            <Route path=\"/settings\">\n              <Settings />\n            </Route>\n            <Redirect from=\"/\" to=\"/upload\" />\n          </Switch>\n        </SnackbarProvider>\n      </Router>\n    </Grid>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport { CssBaseline } from \"@material-ui/core\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { theme } from \"./theme\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}